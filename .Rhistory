library("essurvey")
bothrounds <- ess_rounds(c(3, 6), "jonathanjkent@gmail.com")
bothrounds <- import_rounds(c(3, 6), "jonathanjkent@gmail.com")
View(bothrounds)
View(bothrounds)
ess3 <- import_rounds(3, "jonathanjkent@gmail.com")
ess6 <- import_rounds(6, "jonathanjkent@gmail.com")
View(ess3)
View(ess3)
View(ess3)
table(ess6$pplahlp)
install.packages("tidyverse")
tidyverse_update()
library("tidyverse", lib.loc="/Library/Frameworks/R.framework/Versions/3.5/Resources/library")
tidyverse_update()
install.packages(c("broom", "cli", "dbplyr", "dplyr", "forcats", "haven", "modelr",
"purrr", "readr", "readxl", "rlang", "rstudioapi", "stringr",
"tibble", "tidyr"))
install.packages(c("broom", "cli", "dbplyr", "dplyr", "forcats", "haven", "modelr", "purrr", "readr", "readxl", "rlang", "rstudioapi", "stringr", "tibble", "tidyr"))
install.packages(c("nycflights13", "gapminder", "Lahman"))
library(tidyverse)
ggplot(data = mpg) +
geom_point(mapping = aes(x = displ, y = hwy))
mpg
ggplot(data = mpg)
ggplot(data = mpg) +
+     geom_point(mapping = aes(x = cyl, y = hwy))
ggplot(data = mpg) +
geom_point(mapping = aes(x = cyl, y = hwy))
ggplot(data = mpg) +
geom_point(mapping = aes(x = class, y = drv))
ggplot(data = mpg) + geom_point(mapping = aes(x = class, y = drv))
ggplot(data = mpg) +
geom_point(mapping = aes(x = displ, y = hwy)) +
facet_grid(drv ~ .)
ggplot(data = mpg, mapping = aes(x = cty, y = hwy)) +
geom_point() +
geom_abline() +
coord_fixed()
ggplot(data = mpg, mapping = aes(x = cty, y = hwy)) +
geom_point() +
geom_abline()
?geom_abline
ess6_tibble <- as.tibble(c(ess6$flclpla, ess6$hinctnta, ess6$domicil, ess6$blgetmg, ess6$livecnta, ess6@agea))
ess6_tibble <- c(ess6$flclpla, ess6$hinctnta, ess6$domicil, ess6$blgetmg, ess6$livecnta, ess6@agea))
ess6_tibble <- cbind(ess6$flclpla, ess6$hinctnta, ess6$domicil, ess6$blgetmg, ess6$livecnta, ess6@agea))
ess6_tibble <- cbind(c(ess6$flclpla, ess6$hinctnta, ess6$domicil, ess6$blgetmg, ess6$livecnta, ess6@agea))
ess6_tibble <- cbind(ess6$flclpla, ess6$hinctnta, ess6$domicil, ess6$blgetmg, ess6$livecnta, ess6@agea)
ess6_tibble <- cbind(ess6$flclpla, ess6$hinctnta, ess6$domicil, ess6$blgetmg, ess6$livecnta, ess6$agea)
ess6_tibble < as.tibble(ess6_tibble)
ess6_tibble <- as.tibble(ess6_tibble)
View(ess6_tibble)
ess6_tibble <- as.tibble(ess6$flclpla, ess6$hinctnta, ess6$domicil, ess6$blgetmg, ess6$livecnta, ess6$agea)
View(ess6_tibble)
ess6_tibble <- as.tibble(c(ess6$flclpla, ess6$hinctnta, ess6$domicil, ess6$blgetmg, ess6$livecnta, ess6$agea))
ess6_tibble <- as.tibble(c(ess6$flclpla, ess6$hinctnta, ess6$domicil, ess6$blgetmg, ess6$livecnta, ess6$agea))
ess6_tibble <- as.tibble(cbind(ess6$flclpla, ess6$hinctnta, ess6$domicil, ess6$blgetmg, ess6$livecnta, ess6$agea))
View(ess6_tibble)
ess_subset <- c(ess6$flclpla, ess6$hinctnta, ess6$domicil, ess6$blgetmg, ess6$livecnta, ess6$agea)
ess_subset <- paste(ess6$flclpla, ess6$hinctnta, ess6$domicil, ess6$blgetmg, ess6$livecnta, ess6$agea)
View(ess6_tibble)
ess6_tibble
?col_names
col_names(ess6_tibble) <- c("soc", "income", "urban", "minority", "arrival", "age")
colnames(ess6_tibble) <- c("soc", "income", "urban", "minority", "arrival", "age")
ess_tibble$livedsince <- 2014 - ess6_tibble$arrival
ess6_tibble$livedsince <- 2014 - ess6_tibble$arrival
ess6_tibble$livedsince <- 2013 - ess6_tibble$arrival
geom_point(mapping = aes(x = soc, y = income))
ggplot(data = ess6_tibble) +
geom_point(mapping = aes(x = soc, y = income))
ggplot(data = ess6_tibble) +
geom_jitter(mapping = aes(x = soc, y = income))
ggplot(data = ess6_tibble) +
geom_smooth(mapping = aes(x = soc, y = income))
ggplot(data = ess6_tibble) +
geom_smooth(mapping = aes(x = soc, y = income))
ggplot(data = ess6_tibble) +
geom_smooth(mapping = aes(x = income, y = soc))
ggplot(data = ess6_tibble) +
geom_smooth(mapping = aes(x = income, y = soc, color = urban))
ggplot(data = ess6_tibble) +
geom_smooth(mapping = aes(x = income, y = soc, color = urban))
ggplot(data = ess6_tibble) +
geom_smooth(mapping = aes(x = income, y = soc, group = urban))
ggplot(data = ess6_tibble) +
geom_smooth(mapping = aes(x = income, y = soc, group = minority))
geom_smooth(mapping = aes(x = urban, y = soc)
ggplot(data = ess6_tibble) +
geom_smooth(mapping = aes(x = urban, y = soc)
ggplot(data = ess6_tibble) +
geom_smooth(mapping = aes(x = urban, y = soc)
ggplot(data = ess6_tibble) +
geom_smooth(mapping = aes(x = urban, y = soc)
ggplot(data = ess6_tibble) +
geom_smooth(mapping = aes(x = urban, y = soc))
ggplot(data = ess6_tibble) +
geom_smooth(mapping = aes(x = income, y = soc))
ggplot(data = ess6_tibble) +
geom_boxplot(mapping = aes(x = income, y = soc))
ggplot(data = ess6_tibble) +
geom_boxplot(mapping = aes(x = soc, y = income))
ggplot(ess6_tibble, aes(soc, income)) +
geom_hex(bins = 50)
install.packages("hexbin")
library("hexbin", lib.loc="/Library/Frameworks/R.framework/Versions/3.5/Resources/library")
ggplot(ess6_tibble, aes(soc, income)) +
geom_hex(bins = 50)
library(tidyverse)
library(nycflights13)
flights
flights <- flights
View(flights)
mutate(flights, sched_time = sched_arr_time - sched_dep_time)
View(flights)
flightdata <- flights
mutate(flightdata, sched_time = sched_arr_time - sched_dep_time)
flights <- mutate(flightdata, sched_time = sched_arr_time - sched_dep_time)
flights <- mutate(flights, sched_time = sched_arr_time - sched_dep_time)
View(flights)
flights <- mutate(flights, gnd_time = air_time - sched_time)
flights <- mutate(flights, gnd_time = sched_time - air_time)
ggplot(flights) + geom_point(aes(x = gnd_time, y = sched_time))
ok_flights <- filter(flights, gnd_time > 0)
ggplot(ok_flights) + geom_point(aes(x = gnd_time, y = sched_time))
flights <- rename(flights, sched_gnd_time = gnd_time)
ok_flights <- filter(flights, sched_gnd_time > 0)
View(ok_flights)
mid_flights <- filter(ok_flights, sched_time > (60*2) & sched_time < (60*3.5))
ggplot(mid_flights) + geom_point(aes(x = gnd_time, y = sched_time))
ggplot(mid_flights) + geom_point(aes(x = sched_gnd_time, y = sched_time))
ok_flights <- filter(flights, sched_gnd_time > -100)
mid_flights <- filter(ok_flights, sched_time > (60*2) & sched_time < (60*3.5))
ggplot(mid_flights) + geom_point(aes(x = sched_gnd_time, y = sched_time))
ok_flights <- filter(flights, sched_gnd_time > -500)
mid_flights <- filter(ok_flights, sched_time > (60*2) & sched_time < (60*3.5))
ggplot(mid_flights) + geom_point(aes(x = sched_gnd_time, y = sched_time))
ok_flights <- filter(flights, sched_time > 0)
mid_flights <- filter(ok_flights, sched_time > (60*2) & sched_time < (60*3.5))
ggplot(mid_flights) + geom_point(aes(x = sched_gnd_time, y = sched_time))
ok_flights <- filter(flights, sched_time > 0)
mid_flights <- filter(ok_flights, sched_time > (60*1) & sched_time < (60*5.5))
ggplot(mid_flights) + geom_point(aes(x = sched_gnd_time, y = sched_time))
ggplot(mid_flights) + geom_point(aes(x = sched_gnd_time, y = sched_time, size = count))
ggplot(ok_flights) + geom_point(aes(x = sched_gnd_time, y = distance))
summarise(ok_flights, sched_gnd_time = mean(dep_delay, na.rm = TRUE))
on_time_flights <- filter(ok_flights, arr_delay <10)
ggplot(on_time_flights) + geom_point(aes(x = sched_gnd_time, y = distance))
summarise(on_time_flights, sched_gnd_time = mean(dep_delay, na.rm = TRUE))
on_time_flights <- filter(ok_flights, arr_delay <10 & distance < 3000)
summarise(on_time_flights, sched_gnd_time = mean(dep_delay, na.rm = TRUE))
ggplot(on_time_flights) + geom_point(aes(x = sched_gnd_time, y = distance))
summarise(on_time_flights, sched_gnd_time = mean(sched_gnd_time, na.rm = TRUE))
ggplot(flights) + geom_point(aes(x = distance, y = air_time))
library("tidyverse")
library("essurvey")
ess6 <- import_rounds(6, "jonathanjkent@gmail.com")
city.id <- as.tibble(c(ess6$domicil, ess6$region, ess6$regunit)
city.id <- as.tibble(c(ess6$domicil, ess6$region, ess6$regunit))
city.id <- as_tibble(c(ess6$domicil, ess6$region, ess6$regunit))
View(city.id)
ess6_tibble <- as.tibble(c(ess6$flclpla, ess6$hinctnta, ess6$domicil, ess6$blgetmg, ess6$livecnta, ess6$agea))
city_id <- as_tibble(select(ess6$domicil, ess6$region, ess6$regunit))
city_id <- select(ess6$domicil, ess6$region, ess6$regunit))
ess6 <- as_tibble(ess6)
city_id <- select(ess6$domicil, ess6$region, ess6$regunit))
city_id <- select(ess6$domicil, ess6$region, ess6$regunit)
View(ess6)
ess6 <- as_tibble(ess6)
View(ess6)
View(ess6)
View(ess6)
city_id <- ess6 %>% select(ess6$domicil, ess6$region, ess6$regunit)
View(city.id)
city_id <- ess6 %>% select(domicil, region, regunit)
View(city_id)
city_id <- ess6 %>% select(domicil, cntry, region, regunit)
# Big cities only or big cities plus suburbs
bigcity <- filter(city_id, domicil > 2)
count(domicil)
count(city_id$domicil)
city_id
guess_parser(ess6$domicil)
parse_factor(ess6$domicil)
View(bigcity)
# Big cities only or big cities plus suburbs
bigcity <- filter(city_id, domicil < 2)
cityburbs <- filter(city_id, domicil < 3)
count(bigcity&region)
count(bigcity$region)
# As factors
parse_factor(city_id$cntry)
# As factors
city_id$cntry <- parse_factor(city_id$cntry)
city_id
city_id$region <- parse_factor(city_id$region)
city_id
city_id$regunit <- parse_factor(city_id$regunit)
city_id$regunitchr <- parse_character(city_id$regunit)
city_id$regunitchr <- as.character(city_id$regunit)
city_id
city_id$regunitchr <- parse_factor(city_id$regunitchr)
city_id
city_id$domchr <- as.character(city_id$domicil)
city_id$domchr <- parse_factor(city_id$domchr)
city_id
bigcity <- filter(city_id, domicil < 2)
cityburbs <- filter(city_id, domicil < 3)
# Big cities only or big cities plus suburbs
bigcity <- filter(city_id, domicil < 2)  %>% select(domchr, cntry, region, reunitchr)
# Big cities only or big cities plus suburbs
bigcity <- filter(city_id, domicil < 2)  %>% select(domchr, cntry, region, regunitchr)
cityburbs <- filter(city_id, domicil < 3) %>% select(domchr, cntry, region, regunitchr)
View(bigcity)
count(bigcity$region)
bigcity %>% count(cntry)
bigcity %>% count(region)
bigcity %>% count(region) %>% filter(n >100)
bigcity %>% count(region) %>% filter(n >50)
bigcity %>% count(region) %>% filter(n >200)
bigcity %>% count(region) %>% filter(n >100)
cityburbs %>% count(region) %>% filter(n >100)
cityburbs %>% count(region) %>% filter(n >500)
bigcity %>% count(region) %>% filter(n >100)
bigcity %>% count(region) %>% filter(n >50)
citylist <- bigcity %>% count(region) %>% filter(n >50)
View(citylist)
city_id %>% count(domicil) %>% filter(region == AL11)
city_id %>% count(domicil) %>% filter(city_id$region == AL11)
city_id %>% count(domicil) %>% filter(city_id$region == "AL11")
city_id %>% count(domicil) %>% filter(region == "AL11")
View(city_id)
View(citylist)
citylist <- edit(citylist)
citylist$cityname <- as.character(citylist$cityname)
citylist$cityname <- citylist$cityname
citylist$cityname <- as.character()
citylist$cityname <- as.character(1:58)
citylist$population <- as.integer(1:58)
citylist <- edit(citylist)
citylist <- edit(citylist)
install.packages("Lahman")
library("Lahman", lib.loc="/Library/Frameworks/R.framework/Versions/3.5/Resources/library")
data(LahmanData)
install.packages("pacman")
install.packages("pitchRx")
install.packages("baseballr")
devtools::install_github("BillPetti/baseballr")
library("baseballr", lib.loc="/Library/Frameworks/R.framework/Versions/3.5/Resources/library")
data <- fg_bat_leaders(x = 2018, y = 2018, qual = qual)
data <- fg_bat_leaders(x = 2018, y = 2018, qual = 400)
View(data)
data
data <- fg_bat_leaders(x = 2015, y = 2018, qual = 400, ind = 0)
library(tidyverse)
ggplot(data, aes(BABIP, Hard_pct)) + geom_point() + geom_smooth
ggplot(data, aes(BABIP, Hard_pct)) + geom_point() + geom_smooth()
data <-
data <- as_tibble(data)
data
ggplot(data, aes(BABIP, Oppo_pct)) + geom_point() + geom_smooth()
lm(BABIP ~ Hard_pct + Oppo_pct, data=data)
summary(lm(BABIP ~ Hard_pct + Oppo_pct, data=data))
LD_pct
data$LD_pct
summary(lm(BABIP ~ Hard_pct + Oppo_pct + LD_pct, data=data))
summary(lm(BABIP ~ Hard_pct + Oppo_pct + FB_pct, data=data))
summary(lm(BABIP ~ Hard_pct + Oppo_pct + GB_pct, data=data))
summary(lm(BABIP ~ Hard_pct + Oppo_pct + LD_pct, data=data))
summary(lm(BABIP ~ Hard_pct + Oppo_pct + GB_FB, data=data))
ggplot(data, aes(BABIP, LD_pct)) + geom_point() + geom_smooth()
summary(lm(BABIP ~ Hard_pct + Oppo_pct + LD_pct + BB, data=data))
summary(lm(BABIP ~ Hard_pct + Oppo_pct + LD_pct, data=data))
summary(lm(BABIP ~ Hard_pct + Oppo_pct + LD_pct + Spd, data=data))
summary(lm(BABIP ~ Oppo_pct + LD_pct, data=data))
summary(lm(BABIP ~ Hard_pct + Oppo_pct + LD_pct, data=data))
ggplot(data, aes(BABIP, Oppo_pct)) + geom_point() + geom_smooth(method="loess")
ggplot(data, aes(BABIP, Oppo_pct)) + geom_point() + geom_smooth(method=loess)
ggplot(data, aes(BABIP, Oppo_pct)) + geom_point() + geom_smooth(method = lm)
summary(lm(BABIP ~ Hard_pct + Oppo_pct + FB_pct, data=data))
summary(lm(BABIP ~ Hard_pct + Oppo_pct + LD_pct, data=data))
summary(lm(BABIP ~ Hard_pct + Oppo_pct + LD_pct + Spd, data=data))
summary(lm(BABIP ~ Hard_pct + Oppo_pct + FB_pct + Spd, data=data))
summary(lm(BABIP ~ Hard_pct + Oppo_pct + LD_pct + Spd, data=data))
summary(lm(BABIP ~ Hard_pct + Oppo_pct + FB_pct + Spd, data=data))
summary(lm(BABIP ~ Hard_pct + Oppo_pct + GB_FB + Spd, data=data))
FB_pct
summary(lm(BABIP ~ Hard_pct + Oppo_pct + FB_pct + Spd, data=data))
summary(lm(BABIP ~ Soft_pct + Oppo_pct + FB_pct + Spd, data=data))
summary(lm(BABIP ~ Hard_pct + Oppo_pct + FB_pct + Spd, data=data))
summary(lm(BABIP ~ Hard_pct + Oppo_pct + LD_pct + Spd, data=data))
summary(lm(BABIP ~ Hard_pct + Oppo_pct + LD_pct + FB_pct + Spd, data=data))
summary(lm(BABIP ~ Hard_pct + Soft_pct + Oppo_pct + LD_pct + FB_pct + Spd, data=data))
summary(lm(BABIP ~ Hard_pct + Soft_pct + Oppo_pct + LD_pct + FB_pct + Spd + O-Swing_pct, data=data))
summary(lm(BABIP ~ Hard_pct + Soft_pct + Oppo_pct + LD_pct + FB_pct + Spd + O-Swing_pct, data=data))
summary(lm(BABIP ~ Hard_pct + Soft_pct + Oppo_pct + LD_pct + FB_pct + Spd + O-Swing_pct, data=data))
summary(lm(BABIP ~ Hard_pct + Soft_pct + Oppo_pct + LD_pct + FB_pct + Spd, data=data))
summary(lm(BABIP ~ Hard_pct + Oppo_pct + LD_pct + FB_pct + Spd, data=data))
data
data <- fg_bat_leaders(x = 2012, y = 2018, qual = 400, ind = 0)
summary(lm(BABIP ~ Hard_pct + Oppo_pct + LD_pct + FB_pct + Spd, data=data))
ggplot(data, aes(BABIP, Oppo_pct)) + geom_point() + geom_smooth(method = lm)
data <- as_tibble(data)
data <- subset(data, BABIP > .2 & BABIP < .4)
ggplot(data, aes(BABIP, Oppo_pct)) + geom_point() + geom_smooth(method = lm)
data <- subset(data, Oppo_pct < 39)
ggplot(data, aes(BABIP, Oppo_pct)) + geom_point() + geom_smooth(method = lm)
data %>% count(Seasons)
data <- fg_bat_leaders(x = 2012, y = 2018, qual = 400, ind = 1)
summary(lm(BABIP ~ Hard_pct + Oppo_pct + LD_pct + FB_pct + Spd, data=data))
summary(lm(BABIP ~ Hard_pct + Oppo_pct + FB_pct + Spd, data=data))
datana <- na.omit(data)
data <- fg_bat_leaders(x = 2012, y = 2018, qual = 400, ind = 0)
summary(lm(BABIP ~ Hard_pct + Oppo_pct + FB_pct + Spd, data=data))
summary(lm(BABIP ~ Hard_pct + Oppo_pct + LD_pct + FB_pct + Spd, data=data))
data %>% count(Seasons)
ggplot(data, aes(BABIP)) + geom_density()
ggplot(data, aes(AB)) + geom_density()
summary(lm(BABIP ~ Hard_pct + Oppo_pct + LD_pct + FB_pct + Spd, data=data))
ggplot(data, aes(LD_pct)) + geom_density()
summary(lm(BABIP ~ Hard_pct + Oppo_pct + FB_pct + Spd, data=data))
summary(lm(BABIP ~ Hard_pct + Oppo_pct + LD_pct + Spd, data=data))
databyyear <- fg_bat_leaders(x = 2012, y = 2018, qual = 400, ind = 1)
ggplot(databyyear, aes(x= BABIP, y = Oppo_pct, color = Season)) + geom_point() + geom_smooth(method = lm)
ggplot(databyyear, aes(x= BABIP, y = Oppo_pct, color = Season)) + geom_smooth(method = lm)
summary(lm(BABIP ~ Hard_pct + Oppo_pct + LD_pct + Spd + Oppo_pct*Season, data=data))
summary(lm(BABIP ~ Hard_pct + Oppo_pct + LD_pct + Spd + Oppo_pct*Season, data=databyyear))
databyyear$SeasonNum <- as.numeric(databyyear$Season)
summary(lm(BABIP ~ Hard_pct + Oppo_pct + LD_pct + Spd + Oppo_pct*SeasonNum, data=databyyear))
ggplot(databyyear, aes(BABIP, Season)) + geom_point() + geom_smooth()
library(lme4)
M0 <- glmer(BABIP ~ ( 1 | Season), data=databyyear, family = "binomial")
summary(M0)
icc <- M0@theta[1]^2/ (M0@theta[1]^2 + (3.14159^2/3))
icc
ggplot(data, aes(BABIP, Oppo_pct)) + geom_point() + geom_smooth(method = lm)
summary(lm(BABIP ~ Hard_pct + Oppo_pct + LD_pct + Spd + Oppo_pct*Season, data=databyyear))
summary(lm(BABIP ~ Hard_pct + Oppo_pct + LD_pct + Spd, data=databyyear))
summary(lm(BABIP ~ Hard_pct + Oppo_pct + LD_pct + Spd, data=data))
longcareer <- subset(data, AB > 1000)
summary(lm(BABIP ~ Hard_pct + Oppo_pct + LD_pct + Spd, data=longcareer))
longcareer <- subset(data, AB > 1200)
summary(lm(BABIP ~ Hard_pct + Oppo_pct + LD_pct + Spd, data=longcareer))
longcareer <- subset(data, AB > 2000)
summary(lm(BABIP ~ Hard_pct + Oppo_pct + LD_pct + Spd, data=longcareer))
ggplot(longcareer, aes(BABIP, Oppo_pct)) + geom_point() + geom_smooth(method = lm)
ggplot(longcareer, aes(BABIP, FB_pct)) + geom_point() + geom_smooth(method = lm)
ggplot(longcareer, aes(BABIP, LD_pct)) + geom_point() + geom_smooth(method = lm)
ggplot(longcareer, aes(BABIP, FB_pct)) + geom_point() + geom_smooth(method = lm)
ggplot(longcareer, aes(BABIP, Oppo_pct)) + geom_point() + geom_smooth(method = lm)
ggplot(longcareer, aes(BABIP)) + geom_density()
mean(longcareer$BABIP)
mean(data$BABIP)
summary(lm(BABIP ~ Oppo_pct, data=longcareer))
summary(lm(BABIP ~ Oppo_pct, data=data))
ggplot(databyyear, aes(x= BABIP, y = Oppo_pct, color = Season)) + geom_smooth(method = lm)
data1218 <- subset(databyyear, Season = 2012 | Season = 2018)
data1218 <- subset(databyyear, Season == 2012 | Season == 2018)
ggplot(data1218, aes(x= BABIP, y = Oppo_pct, color = Season)) + geom_smooth(method = lm)
summary(lm(BABIP ~ Oppo_pct + Contact_pct, data=longcareer))
summary(lm(BABIP ~ Oppo_pct, data=longcareer))
summary(lm(BABIP ~ Oppo_pct + Z-Contact_pct, data=longcareer))
summary(lm(BABIP ~ Oppo_pct + 'Z-Contact_pct', data=longcareer))
data$`Z-Contact_pct`
summary(lm(BABIP ~ Oppo_pct + data$`Z-Contact_pct`, data=longcareer))
summary(lm(BABIP ~ Oppo_pct + LD_pct, data=longcareer))
summary(lm(BABIP ~ Oppo_pct + LD_pct + Hard_pct + Contact_pct, data=longcareer))
summary(lm(BABIP ~ Oppo_pct + FB_pct + Hard_pct + Contact_pct, data=longcareer))
longcareer
summary(lm(BABIP ~ Oppo_pct + FB_pct + Hard_pct, data=longcareer))
summary(lm(BABIP ~ Oppo_pct + LD_pct + Hard_pct, data=longcareer))
summary(lm(BABIP ~ Oppo_pct + LD_pct + Hard_pct + Contact_pct, data=longcareer))
summary(lm(BABIP ~ Oppo_pct + LD_pct + Hard_pct + Contact_pct, data=data))
summary(lm(BABIP ~ Oppo_pct + LD_pct + Hard_pct + Contact_pct, data=databyyear))
longcareer <- subset(data, AB > 1200)
summary(lm(BABIP ~ Oppo_pct + LD_pct + Hard_pct + Contact_pct, data=longcareer))
longcareer <- subset(data, AB > 1000)
summary(lm(BABIP ~ Oppo_pct + LD_pct + Hard_pct + Contact_pct, data=longcareer))
ggplot(longcareer, aes(BABIP, Oppo_pct)) + geom_point() + geom_smooth(method = lm)
ggplot(longcareer, aes(BABIP, LD_pct)) + geom_point() + geom_smooth(method = lm)
summary(lm(BABIP ~ Oppo_pct + LD_pct + Hard_pct, data=longcareer))
ggplot(data, aes(WAR, Oppo_pct)) + geom_point() + geom_smooth(method = lm)
summary(lm(WAR ~ Oppo_pct + LD_pct + Hard_pct, data=data))
alldata <- data
data <- longcareer
summary(lm(BABIP ~ Oppo_pct + LD_pct + Hard_pct, data=data))
ggplot(data, aes(BABIP, Oppo_pct)) + geom_point() + geom_smooth(method = lm)
ggplot(data, aes(BABIP, LD_pct)) + geom_point() + geom_smooth(method = lm)
summary(lm(BABIP ~ Oppo_pct, data=data))
summary(lm(BABIP ~ Oppo_pct + LD_pct + Hard_pct + Spd, data=data))
summary(lm(BABIP ~ Oppo_pct + LD_pct + Hard_pct + Spd + FB_pct, data=data))
summary(lm(BABIP ~ Oppo_pct + LD_pct + Hard_pct + Spd + FB_pct + Soft_pct, data=data))
model <- lm(BABIP ~ Oppo_pct + LD_pct + Hard_pct + Spd + FB_pct, data=data)
predict(model, newdata = data)
data$xBABIP <- predict(model, newdata = data)
ggplot(data, aes(BABIP, xBABIP)) + geom_point() + geom_smooth(method = lm)
summary(lm(BABIP ~ Oppo_pct + LD_pct + Hard_pct + Spd + FB_pct, data=databyyear))
summary(lm(BABIP ~ Oppo_pct + LD_pct + Hard_pct + Spd + FB_pct, data=alldata))
data2019 <- fg_bat_leaders(x = 2019, y = 2019, qual = 50, ind = 1)
View(data2019)
data2019 <- fg_bat_leaders(x = 2019, y = 2019, qual = 30, ind = 1)
data2019$xBABIP <- predict(model, newdata = data2019)
ggplot(data2019, aes(BABIP, xBABIP)) + geom_point() + geom_smooth(method = lm)
data2019$Luck <- data2019$BABIP - data2019$xBABIP
luckleaders <- data2019 %>% select(Name, Team, Luck, BABIP, xBABIP)
View(luckleaders)
mets <- subset(luckleaders, Team == Mets)
mets <- subset(luckleaders, Team == "Mets")
View(mets)
data2019 <- fg_bat_leaders(x = 2019, y = 2019, qual = 15, ind = 1)
data2019$xBABIP <- predict(model, newdata = data2019)
data2019$Luck <- data2019$BABIP - data2019$xBABIP
luckleaders <- data2019 %>% select(Name, Team, Luck, BABIP, xBABIP)
mets <- subset(luckleaders, Team == "Mets")
View(luckleaders)
data2018 <- subset(databyyear, Season == 2018)
data2018$xBABIP <- predict(model, newdata = data2018)
data2018$Luck <- data2018$BABIP - data2018$xBABIP
ggplot(data2018, aes(BABIP, xBABIP)) + geom_point() + geom_smooth(method = lm)
View(data2018)
summary(lm(BABIP ~ xBABIP, data = data2018))
summary(lm(BABIP ~ xBABIP, data = data2019))
summary(lm(BABIP ~ xBABIP, data = data))
library(tidyverse)
install.packages("StatsBombR")
library(StatsBombR)
devtools::install_github("statsbomb/StatsBombR")
library(tidyverse)
library(StatsBombR)
Comp <- FreeCompetitions() %>%
filter(competition_id==11)
Matches <- FreeMatches(Comp)
StatsBombData <- StatsBombFreeEvents(MatchesDF = Matches, Parallel = T)
StatsBombData = allclean(StatsBombData)
library(StatsBombR)
detach("package:tidyverse", unload=TRUE)
library(StatsBombR)
library("rvest", lib.loc="/Library/Frameworks/R.framework/Versions/3.5/Resources/library")
install.packages("rtweet")
library(rtweet)
spain <- search_tweets(geocode = lookup_coords("spain"), n = 10000)
spain <- search_tweets(geocode = lookup_coords("usa"), n = 10000)
spain <- search_tweets(geocode = lookup_coords("spain"), n = 10000)
spain <- search_tweets(geocode = lookup_coords("espana"), n = 10000)
spain <- search_tweets(geocode = lookup_coords("Barcelona"), n = 10000)
spain <- lat_lng(spain)
with(spain, points(lng, lat, pch = 20, cex = .75, col = rgb(0, .3, .7, .75)))
par(mar = c(0, 0, 0, 0))
with(spain, points(lng, lat, pch = 20, cex = .75, col = rgb(0, .3, .7, .75)))
View(spain)
spain <- subset(spain, lat>0)
spain <- search_tweets(geocode = lookup_coords("Barcelona"), n = 1000)
bcn < - stream_tweets(lookup_coords("Barcelona"), timeout = 60)
bcn <- stream_tweets(lookup_coords("Barcelona"), timeout = 60)
View(bcn)
View(bcn)
bcn <- lat_lng(bcn)
?lat_lng
?search_tweets
bcn <- stream_tweets(lookup_coords("Spain"), timeout = 60)
bcn <- stream_tweets(lookup_coords("Spain"), timeout = 60)
bcn <- stream_tweets(lookup_coords("Catalonia"), timeout = 60)
bcn <- stream_tweets(lookup_coords("Catalonia, Spain"), timeout = 60)
bcn <- stream_tweets(lookup_coords("Barcelona"), timeout = 60)
spain <- search_tweets(geocode = lookup_coords("Spain"), n = 1000)
spain <- search_tweets(geocode = lookup_coords("Catalonia"), n = 1000)
?search_tweets
spain <- search_tweets(geocode = lookup_coords("spain"), n = 1000)
spain <- search_tweets(geocode = lookup_coords("usa"), n = 1000)
spain <- lat_lng(spain)
spain <- search_tweets(geocode = 41.391678, 2.171082, 100), n = 5000)
spain <- search_tweets(geocode = 41.391678,2.171082,100mi, n = 5000)
spain <- search_tweets(geocode = "41.391678,2.171082,100mi", n = 5000)
spa_exact <- subset(spain, geo_coords!="c(NA, NA)")
View(spa_exact)
?search_tweets2
spain <- search_tweets(point_radius = "41.391678,2.171082,25km", n = 5000)
spain <- search_tweets(-filter:verified, point_radius = "41.391678,2.171082,25km", n = 5000)
spain <- search_tweets(q = "-filter:verified OR filter:verified", point_radius = "41.391678,2.171082,25km", n = 5000)
spain <- search_tweets(q = "-filter:verified OR filter:verified", point_radius = "41.391678,2.171082,25km", n = 50)
spain <- search_tweets(q = "-filter:verified OR filter:verified", point_radius = "41.391678 2.171082 25km", n = 50)
View(spain)
spain <- search_tweets(q = "-filter:verified OR filter:verified", point_radius = "2.171082 41.391678 25km", n = 50)
View(spain)
spain <- search_tweets(q = "-filter:verified OR filter:verified", point_radius = "[2.171082 41.391678 25km]", n = 50)
View(spain)
spain <- search_tweets(geocode = "41.391678,2.171082,100mi", n = 5000)
spain <- search_tweets(geocode = "41.391678,2.171082,100mi", has = "geo", n = 5000)
spain <- search_tweets(geocode = "41.391678,2.171082,100mi", has = "geo", n = 50)
View(spain)
spain <- search_tweets2(q = "-filter:verified OR filter:verified", point_radius = "[2.171082 41.391678 25km]", n = 50)
View(spain)
spain <- search_tweets2(q = "-filter:verified OR filter:verified", n = 50, point_radius = "[2.171082 41.391678 25km]")
spain <- search_tweets2(q = "-filter:verified OR filter:verified", n = 50, point_radius = "[2.171082 41.391678 20km]")
View(spain)
?stream_tweets
spain <- search_tweets(geocode = "41.391678,2.171082,100mi", has = "geo", n = 18000)
spa_exact <- subset(spain, geo_coords!="c(NA, NA)")
View(spa_exact)
library(haven)
anes_timeseries_2016 <- read_dta("Google Drive/Archive/Misc Data/anes_timeseries_2016.dta")
View(anes_timeseries_2016)
library(tidyverse)
summary(anes_timeseries_2016$V161310x)
table(anes_timeseries_2016$V161310x)
asians <- subset(anes_timeseries_2016, V161310x==3)
table(asians$V162157)
table(asians$V161019)
library(blogdown)
library(rmarkdown)
setwd("~/Google Drive/Futbol/futstatcat")
render_site()
